#!/bin/sh

touchad_id=$(xinput list | grep -i 'touchpad' | grep -oP 'id=\K\d+')

if [ -z "$touchad_id" ]; then
  dunstify -a "Touchpad" "Touchpad" "Touchpad not found" -r 100
  exit 1
fi

state=$(xinput list-props "$touchad_id" | grep "Device Enabled" | grep -o "[01]$")

if [ "$state" -eq 1 ]; then
  xinput disable "$touchad_id"
  dunstify -a "Touchpad" "Touchpad" "Touchpad is disabled" -r 100
else
  xinput enable "$touchad_id"
  dunstify -a "Touchpad" "Touchpad" "Touchpad is enabled" -r 100
fi